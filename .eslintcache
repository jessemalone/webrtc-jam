[{"/home/jesse/dev/webrtc/webrtc-jam/src/App.js":"1","/home/jesse/dev/webrtc/webrtc-jam/src/lib/Signaller.js":"2","/home/jesse/dev/webrtc/webrtc-jam/src/assets/jss/material-kit-react/components/headerStyle.js":"3","/home/jesse/dev/webrtc/webrtc-jam/src/serviceWorker.js":"4","/home/jesse/dev/webrtc/webrtc-jam/src/components/CustomButtons/Button.js":"5","/home/jesse/dev/webrtc/webrtc-jam/src/components/Grid/GridContainer.js":"6","/home/jesse/dev/webrtc/webrtc-jam/src/components/Grid/GridItem.js":"7","/home/jesse/dev/webrtc/webrtc-jam/src/index.js":"8","/home/jesse/dev/webrtc/webrtc-jam/src/components/Tracks.js":"9","/home/jesse/dev/webrtc/webrtc-jam/src/lib/Peer.js":"10","/home/jesse/dev/webrtc/webrtc-jam/src/lib/WebRtcSession.js":"11","/home/jesse/dev/webrtc/webrtc-jam/src/components/Track.js":"12","/home/jesse/dev/webrtc/webrtc-jam/src/components/TrackLatency.js":"13","/home/jesse/dev/webrtc/webrtc-jam/src/components/TrackName.js":"14"},{"size":5747,"mtime":1615206890745,"results":"15","hashOfConfig":"16"},{"size":2688,"mtime":1613243134706,"results":"17","hashOfConfig":"16"},{"size":3514,"mtime":1613243134702,"results":"18","hashOfConfig":"16"},{"size":5086,"mtime":1613243134706,"results":"19","hashOfConfig":"16"},{"size":1810,"mtime":1613243134706,"results":"20","hashOfConfig":"16"},{"size":779,"mtime":1613243134706,"results":"21","hashOfConfig":"16"},{"size":829,"mtime":1613243134706,"results":"22","hashOfConfig":"16"},{"size":641,"mtime":1613243134706,"results":"23","hashOfConfig":"16"},{"size":6199,"mtime":1615206890745,"results":"24","hashOfConfig":"16"},{"size":100,"mtime":1613243134706,"results":"25","hashOfConfig":"16"},{"size":6110,"mtime":1615683202404,"results":"26","hashOfConfig":"16"},{"size":1861,"mtime":1613243134706,"results":"27","hashOfConfig":"16"},{"size":666,"mtime":1613243134706,"results":"28","hashOfConfig":"16"},{"size":806,"mtime":1613243134706,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"33"},"13igsv0",{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/jesse/dev/webrtc/webrtc-jam/src/App.js",["61","62","63","64","65","66","67","68","69","70","71"],"import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport {Signaller} from './lib/Signaller';\nimport {Message} from './lib/Message';\nimport {SignallingContext} from './lib/SignallingContext.js';\n\nimport Tracks from './components/Tracks';\nimport Header from './components/Header/Header';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useParams,\n  withRouter\n} from \"react-router-dom\";\n\nlet proto = \"wss://\";\nlet wsUrl = proto + window.location.host + \"/ws\";\nlet apiUrl = \"https://\" + window.location.host + \"/api\"\nif (window.location.host === \"localhost:3000\") {\n    proto = \"ws://\";\n    wsUrl = proto +\"localhost:8765/ws\";\n    apiUrl = \"http://\" + \"localhost:5000\" + \"/api\"\n}\nif (window.location.host === \"localhost:8780\") {\n    proto = \"ws://\";\n    wsUrl = proto +\"localhost:8780/ws\";\n    apiUrl = \"http://\" + \"localhost:8780\" + \"/api\"\n}\nlet websocket = new WebSocket(wsUrl);\nlet signaller = new Signaller(websocket);\n\nclass App extends React.Component {\n\n    // YOU ARE HERE: Use \"Context\" to pass around websocket and signaller\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            signalling: {\n                websocket: websocket,\n                signaller: signaller\n            },\n            showDialog: true,\n            ready: false\n        }\n    }\n\n    componentDidMount() {\n        this.state.signalling.websocket.onopen = this.setUpSignalling;\n        // Get room name\n        let channelSlug = window.location.pathname.match(/[a-z0-9]+$/)\n        let that = this\n        if (channelSlug !== null && channelSlug[0] !== \"\") {\n            console.log(\"FETCH chan\" + apiUrl);\n            fetch(apiUrl + \"/channel/\" + channelSlug[0]).then(response => response.json().then(data => that.setState({roomName: data.channel_name})));\n        }\n    }\n    \n    setUpSignalling = () => {\n        this.roomAckHandler = (ack) => {\n            this.setState({roomId: ack.data.channel_id});\n\n            // Redirect to the room\n            window.location = window.location + \"r/\" + ack.data.channel_id;\n        }\n\n        this.handleCreateRoom = (event) => {\n            // start the session here\n            this.setState({showDialog: false})\n\n            // Use signaller to create the room and get an id\n            this.state.signalling.signaller.addHandler(\"ack\",this.roomAckHandler);\n            this.state.signalling.signaller.send(new Message(\"create_channel\",{\"name\":this.state.submittedName},\"\",\"\",\"\"));\n        }\n        this.setState({ready: true});\n    }\n\n    handleName = (event) => {\n        this.setState({submittedName: event.target.value})\n    }\n\n    copyToClipboard(event) {\n        let element = event.target.parentElement.parentElement.parentElement;\n        navigator.clipboard.writeText(window.location);\n    }\n    \n    render() {\n      let roomName=\"Somebody's room\"\n    let ShareLink = (\n        <div><span className=\"centered\">Invite Link: </span><TextField InputProps={{className: \"input\"}} variant=\"outlined\" color=\"primary\" disabled id=\"share-link\" defaultValue={window.location} /><span title=\"Copy to Clipboard\" class=\"centered\"><Button onClick={this.copyToClipboard}><AssignmentIcon fontSize=\"large\" /></Button></span></div>\n\n    )\n        return (\n            <div className=\"App\">\n                <Header \n                    color=\"dark\"\n                    brand={\"WebRTC Jam - \" + this.state.roomName}\n                    rightLinks={ShareLink}\n                />\n                <Router>\n                    <Container maxWidth=\"lg\">\n                        { (this.state.ready) &&\n                            <SignallingContext.Provider value={ this.state.signalling }>\n                                <Route path=\"/r/:roomid\" component={Tracks} />\n                            </SignallingContext.Provider>\n                        }\n                    </Container>\n                    <Route exact path=\"/\">\n                        <Dialog open={this.state.showDialog}>\n                            <DialogTitle id=\"create-room\">Create A Room</DialogTitle>\n                            <DialogContent>\n                                <DialogContentText>\n                                    Once you create a room you'll be get a link you can share with people you want to invite.\n                                </DialogContentText>\n                                <TextField\n                                    autoFocus\n                                    margin=\"dense\"\n                                    id=\"room_name\"\n                                    label=\"Room Name\"\n                                    type=\"input\"\n                                    onChange={ this.handleName }\n                                />\n                            </DialogContent>\n                            <DialogActions>\n                                <Button color=\"primary\" onClick={ this.handleCreateRoom }>\n                                    Go\n                                </Button>\n                            </DialogActions>\n                        </Dialog>\n                    </Route>\n                </Router>\n            </div>\n        );\n  }\n}\n\nexport default withRouter(App);\n",["72","73"],"/home/jesse/dev/webrtc/webrtc-jam/src/lib/Signaller.js",[],"/home/jesse/dev/webrtc/webrtc-jam/src/assets/jss/material-kit-react/components/headerStyle.js",[],"/home/jesse/dev/webrtc/webrtc-jam/src/serviceWorker.js",[],["74","75"],"/home/jesse/dev/webrtc/webrtc-jam/src/components/CustomButtons/Button.js",[],"/home/jesse/dev/webrtc/webrtc-jam/src/components/Grid/GridContainer.js",[],"/home/jesse/dev/webrtc/webrtc-jam/src/components/Grid/GridItem.js",[],"/home/jesse/dev/webrtc/webrtc-jam/src/index.js",["76","77","78","79"],"/home/jesse/dev/webrtc/webrtc-jam/src/components/Tracks.js",[],"/home/jesse/dev/webrtc/webrtc-jam/src/lib/Peer.js",[],"/home/jesse/dev/webrtc/webrtc-jam/src/lib/WebRtcSession.js",[],"/home/jesse/dev/webrtc/webrtc-jam/src/components/Track.js",["80","81","82","83"],"/home/jesse/dev/webrtc/webrtc-jam/src/components/TrackLatency.js",[],"/home/jesse/dev/webrtc/webrtc-jam/src/components/TrackName.js",["84","85","86"],{"ruleId":"87","severity":1,"message":"88","line":2,"column":8,"nodeType":"89","messageId":"90","endLine":2,"endColumn":12},{"ruleId":"87","severity":1,"message":"91","line":14,"column":8,"nodeType":"89","messageId":"90","endLine":14,"endColumn":12},{"ruleId":"87","severity":1,"message":"92","line":24,"column":3,"nodeType":"89","messageId":"90","endLine":24,"endColumn":9},{"ruleId":"87","severity":1,"message":"93","line":26,"column":3,"nodeType":"89","messageId":"90","endLine":26,"endColumn":12},{"ruleId":"94","severity":1,"message":"95","line":36,"column":24,"nodeType":"96","messageId":"97","endLine":36,"endColumn":25},{"ruleId":"94","severity":1,"message":"95","line":36,"column":43,"nodeType":"96","messageId":"97","endLine":36,"endColumn":44},{"ruleId":"94","severity":1,"message":"95","line":41,"column":24,"nodeType":"96","messageId":"97","endLine":41,"endColumn":25},{"ruleId":"94","severity":1,"message":"95","line":41,"column":43,"nodeType":"96","messageId":"97","endLine":41,"endColumn":44},{"ruleId":"98","severity":1,"message":"99","line":63,"column":9,"nodeType":"100","endLine":63,"endColumn":40},{"ruleId":"87","severity":1,"message":"101","line":97,"column":13,"nodeType":"89","messageId":"90","endLine":97,"endColumn":20},{"ruleId":"87","severity":1,"message":"102","line":102,"column":11,"nodeType":"89","messageId":"90","endLine":102,"endColumn":19},{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","replacedBy":"106"},{"ruleId":"103","replacedBy":"107"},{"ruleId":"105","replacedBy":"108"},{"ruleId":"87","severity":1,"message":"92","line":9,"column":3,"nodeType":"89","messageId":"90","endLine":9,"endColumn":9},{"ruleId":"87","severity":1,"message":"109","line":10,"column":3,"nodeType":"89","messageId":"90","endLine":10,"endColumn":8},{"ruleId":"87","severity":1,"message":"93","line":11,"column":3,"nodeType":"89","messageId":"90","endLine":11,"endColumn":12},{"ruleId":"87","severity":1,"message":"110","line":12,"column":3,"nodeType":"89","messageId":"90","endLine":12,"endColumn":13},{"ruleId":"87","severity":1,"message":"111","line":5,"column":8,"nodeType":"89","messageId":"90","endLine":5,"endColumn":15},{"ruleId":"87","severity":1,"message":"112","line":6,"column":8,"nodeType":"89","messageId":"90","endLine":6,"endColumn":18},{"ruleId":"87","severity":1,"message":"113","line":7,"column":8,"nodeType":"89","messageId":"90","endLine":7,"endColumn":14},{"ruleId":"87","severity":1,"message":"114","line":50,"column":13,"nodeType":"89","messageId":"90","endLine":50,"endColumn":19},{"ruleId":"87","severity":1,"message":"115","line":17,"column":13,"nodeType":"89","messageId":"90","endLine":17,"endColumn":20},{"ruleId":"116","severity":1,"message":"117","line":19,"column":31,"nodeType":"96","messageId":"118","endLine":19,"endColumn":33},{"ruleId":"116","severity":1,"message":"119","line":22,"column":33,"nodeType":"96","messageId":"118","endLine":22,"endColumn":35},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","'Switch' is defined but never used.","'useParams' is defined but never used.","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","'element' is assigned a value but never used.","'roomName' is assigned a value but never used.","no-native-reassign",["120"],"no-negated-in-lhs",["121"],["120"],["121"],"'Route' is defined but never used.","'withRouter' is defined but never used.","'MicIcon' is defined but never used.","'MicOffIcon' is defined but never used.","'Button' is defined but never used.","'stream' is assigned a value but never used.","'streams' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","unexpected","Expected '===' and instead saw '=='.","no-global-assign","no-unsafe-negation"]